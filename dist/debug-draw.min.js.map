{"version":3,"sources":["./dist/debug-draw.dev.js"],"names":["exports","vmath","REGL","Input","damping","moveSpeed","v3_f","vec3","new","v3_r","v3_u","rotq","quat","create","rotx","roty","rot","mat3","front","right","up","front2","right2","Orbit","[object Object]","input","props","theta","phi","eye","near","far","this","_props","_cache","view","Float32Array","proj","_input","_view","mat4","_proj","_df","_dr","_panX","_panY","_panZ","_curTheta","_curPhi","_curEye","clone","_theta","_phi","_eye","dt","viewportWidth","viewportHeight","_handleInput","_calcView","_calcProj","array","mousepress","dx","mouseDeltaX","dy","mouseDeltaY","keypress","mouseScrollY","lerp","panX","panY","panZ","identity","rotateX","rotateY","mul","fromQuat","transformMat3","scaleAndAdd","copy","y","normalize","lookAt","w","h","perspective","Math","PI","common","regl","uniforms","prop","projection","grid","width","length","seg","vertices","hw","hl","dw","dl","x","push","z","blend","enable","func","srcRGB","srcAlpha","dstRGB","dstAlpha","equation","rgb","alpha","color","vert","frag","primitive","attributes","a_pos","model","count","coord","drawLines","a_color","transform","lines","colors","line","m4_a","array_m4","Renderer","canvasEL","_canvasEL","_regl","canvas","extensions","_uniforms","_common","_drawGrid","_drawCoord","_drawLine","_nodes","_nodesCnt","_destPosList","_destPosCnt","_draws","_drawsCnt","_drawsTransparent","_drawsTransparentCnt","bcr","parentElement","getBoundingClientRect","height","name","val","node","pos","cmd","data","transparent","cb","frame","ctx","_reset","clear","depth","i","draw","_getWorldRT","Shell","_renderer","lock","_orbit","toRadian","_last","_dt","_time","_invView","_invViewArray","window","addEventListener","resize","requestAnimationFrame","time","tick","setUniform","invert","reset","ddraw","createREGL"],"mappings":"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","file":"./dist/debug-draw.min.js"}